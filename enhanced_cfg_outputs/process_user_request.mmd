flowchart TD
    entry(["🚀 Entry: process_user_request"])
    validate{{label}}
    auth(("⚡ authenticate_user().await"))
    process["process_business_logic()"]
    error_handler[["❌ handle_error(e)"]]
    success["format_response(result)"]
    exit(["🏁 Exit: process_user_request"])
    entry --> validate
    validate -->|"valid"| auth
    validate ==>|"error invalid"| error_handler
    auth -.->|"async"| process
    auth ==>|"error "| error_handler
    process --> success
    process ==>|"error "| error_handler
    success --> exit
    error_handler --> exit

    %% Styling for better visual appeal
    classDef entryNode fill:#4CAF50,stroke:#2E7D32,color:#fff
    classDef exitNode fill:#F44336,stroke:#C62828,color:#fff
    classDef conditionNode fill:#FFF59D,stroke:#F57F17
    classDef asyncNode fill:#E1BEE7,stroke:#7B1FA2
    classDef errorNode fill:#FFCDD2,stroke:#C62828

    class entry entryNode
    class exit exitNode
    class validate conditionNode
    class auth asyncNode
    class error_handler errorNode

%% Complexity Metrics:
%% Cyclomatic Complexity: 8
%% Async Complexity: 3
%% Error Handling Complexity: 5