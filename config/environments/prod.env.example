# Toka OS Production Environment Template
# Copy this file to .env.prod and customize for production
# Production-optimized configuration with security hardening

# =============================================================================
# LLM Provider Configuration
# =============================================================================

# Anthropic Claude (Production)
LLM_PROVIDER=anthropic
ANTHROPIC_API_KEY=your_production_anthropic_api_key_here
LLM_MODEL=claude-3-5-sonnet-20241022
LLM_RATE_LIMIT=100
LLM_TIMEOUT=30
LLM_DEBUG=false

# =============================================================================
# Database Configuration (Production)
# =============================================================================

# PostgreSQL for production (recommended)
DATABASE_URL=postgresql://toka_user:secure_password@localhost/toka_prod
STORAGE_TYPE=postgresql

# PostgreSQL Settings
POSTGRES_DB=toka_prod
POSTGRES_USER=toka_user
POSTGRES_PASSWORD=secure_production_password_change_this

# Redis for caching (Production)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=secure_redis_password_change_this

# =============================================================================
# Agent Configuration (Production)
# =============================================================================

# Agent Pool Settings (Production)
AGENT_POOL_SIZE=20
MAX_CONCURRENT_AGENTS=16
AGENT_SPAWN_TIMEOUT=30
AGENT_WORKSTREAM_TIMEOUT=3600

# Production Agent Settings
AGENT_SANDBOX_ENABLED=true
CAPABILITY_VALIDATION=strict
AGENT_DEV_MODE=false
AGENT_DEBUG_ENABLED=false
AGENT_PROFILING_ENABLED=false

# =============================================================================
# Security Settings (Production)
# =============================================================================

# JWT Configuration (Production)
JWT_SECRET=ultra-secure-production-jwt-secret-change-this-to-256-bit-random-key

# Security Features (Strict for production)
RUST_SECURE_ZERO_MEMORY=1
ENABLE_SECURITY_SCANNING=true
SECURITY_SCAN_INTERVAL=1800

# Additional Security
ENABLE_RATE_LIMITING=true
ENABLE_FIREWALL=true
ENABLE_INTRUSION_DETECTION=true

# =============================================================================
# Performance Settings (Production)
# =============================================================================

# Rust Settings (Production)
RUST_LOG=info
RUST_BACKTRACE=0
RUSTFLAGS=-C target-cpu=native

# Tokio Runtime (Production)
TOKIO_WORKER_THREADS=8

# Caching Configuration (Production)
CONTEXT_CACHE_SIZE=8192
CONTEXT_CACHE_TTL=14400
RESPONSE_CACHE_SIZE=4096
RESPONSE_CACHE_TTL=7200

# Build Performance (Production)
CARGO_INCREMENTAL=0
CARGO_NET_RETRY=5
CARGO_BUILD_JOBS=8
MAKEFLAGS=-j8

# =============================================================================
# Environment Configuration (Production)
# =============================================================================

# Environment Type
TOKA_ENV=production
TOKA_LOG_LEVEL=info

# Production Directories
AGENT_DATA_DIR=/var/lib/toka/data
AGENT_LOG_DIR=/var/log/toka
AGENT_CONFIG_DIR=/etc/toka

# =============================================================================
# Orchestration Settings (Production)
# =============================================================================

# Orchestration Engine (Production)
ORCHESTRATION_SESSION_TIMEOUT=7200
ORCHESTRATION_MAX_RETRIES=3
ORCHESTRATION_RETRY_DELAY=5

# Health Check Configuration (Production)
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# Port Configuration (Production)
# =============================================================================

# Core Services
TOKA_API_PORT=8080
AGENT_MGMT_PORT=9000
WEBSOCKET_PORT=9001

# Monitoring Services
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
JAEGER_PORT=16686

# Database Services
REDIS_PORT=6379
POSTGRES_PORT=5432

# =============================================================================
# Production Features
# =============================================================================

# Debug Settings (Disabled for production)
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_GDB=false
ENABLE_VALGRIND=false

# Testing Settings (Disabled for production)
ENABLE_FUZZING=false
FUZZ_TIMEOUT=0
ENABLE_PROFILING=false
PROFILING_INTERVAL=0

# Monitoring (Production)
METRICS_ENABLED=true
METRICS_INTERVAL=30
TRACING_ENABLED=true
LOG_LEVEL=info

# =============================================================================
# Production Monitoring & Observability
# =============================================================================

# Grafana Dashboard (Production)
GRAFANA_PASSWORD=secure_grafana_password_change_this

# Prometheus Settings (Production)
PROMETHEUS_RETENTION=720h
PROMETHEUS_STORAGE_RETENTION=30d

# Jaeger Tracing (Production)
JAEGER_AGENT_HOST=jaeger
JAEGER_AGENT_PORT=6831
JAEGER_SAMPLING_RATE=0.1

# =============================================================================
# Production Overrides
# =============================================================================

# Container Resource Limits (Production)
CONTAINER_MEMORY_LIMIT=8g
CONTAINER_CPU_LIMIT=4

# SSL/TLS Configuration
ENABLE_TLS=true
TLS_CERT_PATH=/etc/ssl/certs/toka.crt
TLS_KEY_PATH=/etc/ssl/private/toka.key

# Backup Configuration
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_INTERVAL=21600
BACKUP_RETENTION=7d

# High Availability
ENABLE_HIGH_AVAILABILITY=true
CLUSTER_MODE=true
REPLICATION_FACTOR=3

# Production Safety
ENABLE_CIRCUIT_BREAKER=true
ENABLE_BULKHEAD_ISOLATION=true
ENABLE_GRACEFUL_SHUTDOWN=true

# Experimental Features (Disabled for production)
ENABLE_EXPERIMENTAL=false
EXPERIMENTAL_FEATURES= 